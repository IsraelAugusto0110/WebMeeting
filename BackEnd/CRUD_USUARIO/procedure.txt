// define a funcao para criar novo usuario ou editar um ja existente

CREATE DEFINER=`root`@`localhost` PROCEDURE `usuarioAdicionarOuEditar`(
IN _usuario_id INT,
IN _usuario_nome varchar(100),
IN _usuario_email varchar(100),
IN _usuario_telefone varchar(15),
IN _usuario_cargo varchar(30),
IN _usuario_departamento varchar(30),
IN _usuario_perfil varchar(30)
)
BEGIN
// caso receba 0 comp parametro ira criar um novo usuario, sen√£o atualiza um ja existente com o id informado
	IF _usuario_id = 0 THEN
		insert into usuario (usuario_nome, usuario_email, usuario_telefone, 
        usuario_cargo, usuario_departamento, usuario_perfil)
        values (_usuario_nome, _usuario_email, _usuario_telefone, _usuario_cargo,
        _usuario_departamento, _usuario_perfil);
        
        set _usuario_id = last_insert_id();
        
	else 
		update usuario
        set
        usuario_nome = _usuario_nome,
        usuario_email = _usuario_email,
        usuario_telefone = _usuario_telefone,
        usuario_cargo = _usuario_cargo,
        usuario_departamento = _usuario_departamento,
        usuario_perfil = _usuario_perfil
        where usuario_id = _usuario_id;
	end if;
    
    select _usuario_id as 'usuario_id';

END